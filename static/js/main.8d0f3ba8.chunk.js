(this.webpackJsonplottery_v2=this.webpackJsonplottery_v2||[]).push([[0],{217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},236:function(e,t){},242:function(e,t){},243:function(e,t){},269:function(e,t){},271:function(e,t){},282:function(e,t){},284:function(e,t){},294:function(e,t){},296:function(e,t){},408:function(e,t){},410:function(e,t){},415:function(e,t){},417:function(e,t){},424:function(e,t){},436:function(e,t){},439:function(e,t){},444:function(e,t){},532:function(e,t,n){"use strict";n.r(t);var a,i=n(24),r=n.n(i),u=n(207),s=n.n(u),c=(n(217),n(218),n(25)),o=n(74),l=n(75),p=(n(219),n(208)),d=n.n(p);!window.ethereum.isMetaMask||"undefined"===typeof window.ethereum&&"undefined"===typeof window.web3||(a=new d.a(window.ethereum)||window.web3.currentProvider);var y=a,f=new y.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"LotteryHistory",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"PickWinner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"enter",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPlayers",outputs:[{internalType:"address payable[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRandomNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lottery",type:"uint256"}],name:"getWinnerByLottery",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lotteryId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"players",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"}],"0x2706813A4556dF262b76c46495343De0ec45d581"),b=n(11);var m=function(){var e=Object(i.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),u=Object(l.a)(r,2),s=u[0],p=u[1],d=Object(i.useState)(""),m=Object(l.a)(d,2),h=m[0],w=m[1],j=function(){var e=Object(o.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.methods.getPlayers().call();case 2:return t=e.sent,e.next=5,window.ethereum.enable();case 5:e.sent,w(t.length),3==t.length&&x();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){j()}),[]);var v=function(){var e=Object(o.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,window.ethereum.enable();case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return a("Processing please wait..."),console.log(y.utils.toWei(s,"ether")),e.next=14,f.methods.enter().send({from:n[0],value:y.utils.toWei(s,"ether")});case 14:a("Successfully registered among players.");case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.enable();case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return a("Selecting winner among all players, please wait... maximum 1 minute"),e.next=12,f.methods.PickWinner().send({from:t[0]});case 12:a("The winner is found!");case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"model h-full w-full",children:[Object(b.jsx)("h1",{children:"Lottery"}),Object(b.jsx)("div",{className:"h-full w-full flex flex-col item-center justify-center",children:Object(b.jsxs)("div",{className:"text-white font-bold text-4xl",children:[Object(b.jsx)("form",{onSubmit:function(e){return v(e)},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"mt-7 appearence-none block w-full bg-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:border-gray-500",placeholder:"Enter amount",value:s,onChange:function(e){return p(e.target.value)}}),Object(b.jsx)("button",{className:"bg-block w-full m-9 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mx-auto",children:"Enter"})]})}),Object(b.jsx)("h1",{className:"text-white font-bold",children:n}),Object(b.jsxs)("p",{className:"text-white font-bold",children:["Now we have ",h," players in this lottery circle."]}),Object(b.jsx)("p",{className:"text-white font-bold p-4",children:" When the number of players reach to 3 we choose the winner. "})]})})]})};var h=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(m,{})})};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root"))}},[[532,1,2]]]);
//# sourceMappingURL=main.8d0f3ba8.chunk.js.map