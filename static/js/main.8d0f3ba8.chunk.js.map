{"version":3,"sources":["utils/web3.js","utils/lottery.js","Components/Home.js","App.js","index.js"],"names":["web3","window","ethereum","isMetaMask","Web3","currentProvider","eth","Contract","Home","useState","message","setMessage","amount","setAmount","length","setLength","gettingPlayers","lottery","methods","getPlayers","call","players","enable","pickWinner","useEffect","handleSubmit","e","preventDefault","accounts","console","log","utils","toWei","enter","send","from","value","PickWinner","className","onSubmit","placeholder","onChange","target","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2gBACIA,E,uGAEAC,OAAOC,SAASC,YACW,qBAAnBF,OAAOC,UAAiD,qBAAfD,OAAOD,OAExDA,EAAO,IAAII,IAAKH,OAAOC,WAAaD,OAAOD,KAAKK,iBAErCL,QC4IA,MAAIA,EAAKM,IAAIC,SAhJhB,CACX,CACC,OAAU,GACV,gBAAmB,aACnB,KAAQ,eAET,CACC,OAAU,CACT,CACC,aAAgB,UAChB,KAAQ,GACR,KAAQ,YAGV,KAAQ,iBACR,QAAW,CACV,CACC,aAAgB,kBAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,aACR,QAAW,GACX,gBAAmB,aACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,QACR,QAAW,GACX,gBAAmB,UACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,aACR,QAAW,CACV,CACC,aAAgB,UAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,aACR,QAAW,CACV,CACC,aAAgB,oBAChB,KAAQ,GACR,KAAQ,cAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,kBACR,QAAW,CACV,CACC,aAAgB,UAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,CACT,CACC,aAAgB,UAChB,KAAQ,UACR,KAAQ,YAGV,KAAQ,qBACR,QAAW,CACV,CACC,aAAgB,kBAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,YACR,QAAW,CACV,CACC,aAAgB,UAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,GACV,KAAQ,QACR,QAAW,CACV,CACC,aAAgB,UAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,YAET,CACC,OAAU,CACT,CACC,aAAgB,UAChB,KAAQ,GACR,KAAQ,YAGV,KAAQ,UACR,QAAW,CACV,CACC,aAAgB,kBAChB,KAAQ,GACR,KAAQ,YAGV,gBAAmB,OACnB,KAAQ,aA9IM,8C,QCgGDC,MA7Ff,WACE,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KAQMC,EAAc,iDAAG,8GACCC,EAAQC,QAAQC,aAAaC,OAD9B,cACfC,EADe,gBAEApB,OAAOC,SAASoB,SAFhB,cAGrBP,EAAUM,EAAQP,QAOE,GAAlBO,EAAQP,QACNS,IAXiB,2CAAH,qDAepBC,qBAAU,WACRR,GACD,GAAE,IACH,IAAMS,EAAY,iDAAG,WAAOC,GAAP,wFACnBA,EAAEC,iBADiB,kBAIA1B,OAAOC,SAASoB,SAJhB,OAIjBM,EAJiB,uDAMjBC,QAAQC,IAAR,MANiB,eAQnBnB,EAAW,6BACXkB,QAAQC,IAAI9B,EAAK+B,MAAMC,MAAMpB,EAAQ,UATlB,UAUbK,EAAQC,QAAQe,QAAQC,KAAK,CACjCC,KAAMP,EAAS,GACfQ,MAAOpC,EAAK+B,MAAMC,MAAMpB,EAAQ,WAZf,QAcnBD,EAAW,0CAdQ,yDAAH,sDAiBZY,EAAU,iDAAG,uHAGGtB,OAAOC,SAASoB,SAHnB,OAGfM,EAHe,sDAKfC,QAAQC,IAAR,MALe,cAOjBnB,EAAW,uEAPM,UAQXM,EAAQC,QAAQmB,aAAaH,KAAK,CACtCC,KAAMP,EAAS,KATA,QAWjBjB,EAAW,wBAXM,yDAAH,qDAcd,OACC,sBAAK2B,UAAU,sBAAf,UACC,yCACC,qBAAKA,UAAU,yDAAf,SACE,sBAAKA,UAAU,gCAAf,UACC,sBAAMC,SAAU,SAACb,GAAD,OAAOD,EAAaC,EAApB,EAAhB,SACE,gCAEG,uBACGY,UAAU,gJACVE,YAAY,eACZJ,MAAOxB,EACP6B,SAAU,SAACf,GAAD,OAAOb,EAAUa,EAAEgB,OAAON,MAA1B,IAGV,wBAAQE,UAAU,uFAAlB,wBAMb,oBAAIA,UAAU,uBAAd,SAAsC5B,IACtC,oBAAG4B,UAAU,uBAAb,yBAAiDxB,EAAjD,sCACA,mBAAGwB,UAAU,2BAAb,kFAOH,ECpFaK,MARd,WAEC,OACE,8BACE,cAAC,EAAD,KAGL,ECJDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,Q","file":"static/js/main.8d0f3ba8.chunk.js","sourcesContent":["import Web3 from \"web3\";\nlet web3;\nif (\n    window.ethereum.isMetaMask &&\n    (typeof window.ethereum !==\"undefined\" || typeof window.web3 !==\"undefined\")\n) {\n    web3 = new Web3(window.ethereum) || window.web3.currentProvider;\n}\nexport default web3;","import web3 from './web3';\n\nconst address = '0x2706813A4556dF262b76c46495343De0ec45d581'\n\nconst abi = [\n\t{\n\t\t\"inputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"constructor\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"LotteryHistory\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address payable\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"PickWinner\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"enter\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"getBalance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"getPlayers\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address payable[]\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address[]\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"getRandomNumber\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"lottery\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getWinnerByLottery\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address payable\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"lotteryId\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"owner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"players\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address payable\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t}\n]\n\nexport default new web3.eth.Contract(abi, address);","import React, { useState, useEffect } from 'react';\nimport './Home.css';\nimport web3 from '../utils/web3';\nimport lottery from '../utils/lottery';\n\nfunction Home () {\n  const [message, setMessage] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [length, setLength] = useState(\"\");\n  //const [role, setRole] = useState(\"\")\n  \n  const owner =\"0x55247631aA851d40928427e010f47d4aB987EFa0\"\n   \n\n\n\n  const gettingPlayers = async () => {\n    const players = await lottery.methods.getPlayers().call();\n    let accounts = await window.ethereum.enable();\n    setLength(players.length);\n    // if (accounts[0].toString().lowerCase() == owner.toString().toLowerCase()) {\n    //   setRole(\"block\");\n    // }else{\n    //   setRole(\"hidden\")\n    // }\n    if (\n      players.length == 3) {\n        pickWinner();\n      \n    }\n  };\n  useEffect(() => {\n    gettingPlayers();\n  }, []);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let accounts;\n    try{\n      accounts = await window.ethereum.enable();\n    } catch (error) {\n      console.log(error);\n    } \n    setMessage(\"Processing please wait...\");\n    console.log(web3.utils.toWei(amount, \"ether\"));\n    await lottery.methods.enter().send({\n      from: accounts[0],\n      value: web3.utils.toWei(amount, \"ether\"),\n    });\n    setMessage(\"Successfully registered among players.\")\n  \n  };\n  const pickWinner = async () => {\n    let accounts;\n    try {\n      accounts =  await window.ethereum.enable();\n    } catch (error) {\n      console.log(error);\n    }\n    setMessage(\"Selecting winner among all players, please wait... maximum 1 minute\");\n    await lottery.methods.PickWinner().send({\n      from: accounts[0],\n    });\n    setMessage(\"The winner is found!\");\n\n  };\n    return (\n     <div className=\"model h-full w-full\">\n      <h1 >Lottery</h1>\n       <div className=\"h-full w-full flex flex-col item-center justify-center\">\n         <div className=\"text-white font-bold text-4xl\">\n          <form onSubmit={(e) => handleSubmit(e)}>\n            <div>\n        \n               <input \n                  className=\"mt-7 appearence-none block w-full bg-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:border-gray-500\"\n                  placeholder=\"Enter amount\"\n                  value={amount}\n                  onChange={(e) => setAmount(e.target.value)}\n                ></input>\n                  \n                  <button className=\"bg-block w-full m-9 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mx-auto\">\n                  Enter\n                  </button>\n                  </div>\n         </form>\n        \n     <h1 className=\"text-white font-bold\">{message}</h1>\n     <p className=\"text-white font-bold\">Now we have {length} players in this lottery circle.</p>\n     <p className=\"text-white font-bold p-4\"> When the number of players reach to 3 we choose the winner. </p>\n     </div>\n     </div>\n     </div>\n   \n   );\n\n } \n\n \nexport default Home;","import React from 'react';\nimport './App.css';\nimport Home from './Components/Home';\n function App() {\n  \n  return (\n    <div>\n      <Home />\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//serviceWorker;\n"],"sourceRoot":""}